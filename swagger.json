{
    "swagger": "2.0",
    "info": {
        "version": "1.0.0",
        "title": "Progetto Gruppo T31 - IS2022",
        "description": "API del progetto del Gruppo T31 svolto durente il corso di Ingegneria del software - Anno Accademico 2022/23\nNB: per utilizzare le API che richiedono un utente di segreteria, usare l'API login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
        "contact": {
            "name": "Luca Dematté - Referente gruppo T31",
            "email": "luca.dematte-2@studenti.unitn.it"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        }
    },
    "host": "gruppo-t31-api.onrender.com",
    "basePath": "/",
    "tags": [
        {
            "name": "utente",
            "description": "API per gli utenti del sistema"
        },
        {
            "name": "spazio",
            "description": "API per gli spazi del sistema"
        },
        {
            "name": "servizio",
            "description": "API per i servizi del sistema"
        },
        {
            "name": "prenotazione",
            "description": "API per le prenotazioni del sistema"
        },
        {
            "name": "ricorrenza",
            "description": "API per le ricorrenze del sistema"
        }
    ],
    "schemes": ["https"],
    "paths": {
        "/utente/registrazione": {
            "post": {
                "tags": ["utente"],
                "summary": "Creazione di un nuovo account utente",
                "description": "NB: la creazione di un nuovo utente comporta l'invio di una email all'indirizzo specificato per effettuare la conferma. Utilizzare solo indirizzi esistenti e ai quali si ha accesso.",
                "operationId": "registrazione",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "nome",
                        "in": "formData",
                        "description": "Nome del nuovo utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "cognome",
                        "in": "formData",
                        "description": "Cognome del nuovo utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "email",
                        "in": "formData",
                        "description": "Email del nuovo utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "password",
                        "in": "formData",
                        "description": "Password del nuovo utente",
                        "type": "string",
                        "format": "password",
                        "required": true
                    },
                    {
                        "name": "telefono",
                        "in": "formData",
                        "description": "Contatto telefonico del nuovo utente",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "indirizzo",
                        "in": "formData",
                        "description": "Indirizzo del nuovo utente, per l'invio di eventuali comunicazioni scritte",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "foto",
                        "in": "formData",
                        "description": "Foto profilo del nuovo utente, quadrata ed in formato .png",
                        "type": "file",
                        "required": false
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created - Registrazione effettuata correttamente",
                        "schema": { "$ref": "#/definitions/Utente" }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "409": {
                        "description": "Conflict - E' già presente un utente con l'email specificata",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/utente/login": {
            "post": {
                "tags": ["utente"],
                "summary": "Accesso al sistema",
                "description": "NB: per utilizzare le API che richiedono un utente di segreteria, fare il login con questa API usando l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "login",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "email",
                        "in": "formData",
                        "description": "Email dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "password",
                        "in": "formData",
                        "description": "Password dell'utente",
                        "type": "string",
                        "format": "password",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Login effettuato correttamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "token": {
                                    "type": "string",
                                    "description": "Token di accesso dell'utente"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati oppure l'utente deve confermare la sua registrazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un utente con l'email fornita non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/utente/conferma": {
            "get": {
                "tags": ["utente"],
                "summary": "Conferma registrazione dell'account",
                "description": "",
                "operationId": "confermaAccount",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID dell'utente che sta confermando la registrazione",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 200
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "L'utente con l'id <ID utente> è stato confermato"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - ID non specificato o non valido",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un utente con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/utente": {
            "get": {
                "tags": ["utente"],
                "summary": "Ottenere la lista degli utenti presenti nel sistema",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "listaUtenti",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "start",
                        "in": "query",
                        "description": "Indice del primo oggetto da restituire",
                        "type": "integer",
                        "required": false
                    },
                    {
                        "name": "count",
                        "in": "query",
                        "description": "Numero di oggetti da restituire",
                        "type": "integer",
                        "required": false
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": { "$ref": "#/definitions/Utente" }
                        }
                    },
                    "204": {
                        "description": "No content - Nessun utente da restituire",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP"
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I valori di start e count non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/utente/byID": {
            "get": {
                "tags": ["utente"],
                "summary": "Ottenere un utente tramite il suo ID",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "getUtenteConID",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID dell'utente da restituire",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": { "$ref": "#/definitions/Utente" }
                    },
                    "400": {
                        "description": "Bad request - ID non specificato",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un utente con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/utente/byEmail": {
            "get": {
                "tags": ["utente"],
                "summary": "Ottenere un utente tramite la sua email",
                "description": "",
                "operationId": "getUtenteConEmail",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "email",
                        "in": "query",
                        "description": "Email dell'utente da restituire",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": { "$ref": "#/definitions/Utente" }
                    },
                    "400": {
                        "description": "Bad request - Email non specificata",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un utente con l'email fornita non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/utente/byToken": {
            "get": {
                "tags": ["utente"],
                "summary": "Ottenere un utente tramite un token di accesso",
                "description": "",
                "operationId": "getUtenteConToken",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "token",
                        "in": "query",
                        "description": "Token legato all'utente da restituire",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": { "$ref": "#/definitions/Utente" }
                    },
                    "400": {
                        "description": "Bad request - Token non specificato",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un utente legato al token fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/utente/{id}": {
            "patch": {
                "tags": ["utente"],
                "summary": "Modifica di un utente",
                "description": "",
                "operationId": "modificaUtente",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID dell'utente da modificare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "nome",
                        "in": "formData",
                        "description": "Nome dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "cognome",
                        "in": "formData",
                        "description": "Cognome dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "email",
                        "in": "formData",
                        "description": "Email dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "password",
                        "in": "formData",
                        "description": "Password dell'utente",
                        "type": "string",
                        "format": "password",
                        "required": false
                    },
                    {
                        "name": "telefono",
                        "in": "formData",
                        "description": "Contatto telefonico dell'utente",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "indirizzo",
                        "in": "formData",
                        "description": "Indirizzo dell'utente, per l'invio di eventuali comunicazioni scritte",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "foto",
                        "in": "formData",
                        "description": "Nuova foto profilo dell'utente, quadrata ed in formato .png",
                        "type": "file",
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Modifica dell'utente effettuata correttamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "utente": {
                                    "$ref": "#/definitions/Utente"
                                },
                                "token": {
                                    "type": "string",
                                    "description": "Nuovo token dell'utente"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un utente con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            },
            "delete": {
                "tags": ["utente"],
                "summary": "Eliminazione di un utente",
                "description": "",
                "operationId": "eliminaUtente",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID dell'utente da eliminare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Eliminazione dell'utente effettuata correttamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 200
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Utente eliminato correttamente"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un utente con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/spazio": {
            "post": {
                "tags": ["spazio"],
                "summary": "Creazione di un nuovo spazio",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "nuovoSpazio",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "nome",
                        "in": "formData",
                        "description": "Nome del nuovo spazio",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "descrizione",
                        "in": "formData",
                        "description": "Breve descrizione del nuovo spazio",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "tipologia",
                        "in": "formData",
                        "description": "Tipo di spazio",
                        "type": "string",
                        "enum": ["Locale interno", "Locale attrezzato", "Spazio esterno"],
                        "required": true
                    },
                    {
                        "name": "prezzoIniziale",
                        "in": "formData",
                        "description": "Prezzo dello spazio quando viene utilizzato",
                        "type": "number",
                        "format": "float",
                        "required": true
                    },
                    {
                        "name": "prezzoOra",
                        "in": "formData",
                        "description": "Prezzo dello spazio per ogni ora di utilizzo",
                        "type": "number",
                        "format": "float",
                        "required": true
                    },
                    {
                        "name": "URLfoto",
                        "in": "formData",
                        "description": "Percorso della foto del nuovo spazio",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "servizi",
                        "in": "formData",
                        "description": "Lista di ID dei servizi che possono essere utilizzati in questo spazio",
                        "type": "array",
                        "items": { "type": "string" },
                        "required": false
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created - Creazione spazio effettuata correttamente",
                        "schema": { "$ref": "#/definitions/Spazio" }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            },
            "get": {
                "tags": ["spazio"],
                "summary": "Ottenere la lista degli spazi presenti nel sistema",
                "description": "",
                "operationId": "listaSpazi",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "start",
                        "in": "query",
                        "description": "Indice del primo oggetto da restituire",
                        "type": "integer",
                        "required": false
                    },
                    {
                        "name": "count",
                        "in": "query",
                        "description": "Numero di oggetti da restituire",
                        "type": "integer",
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": { "$ref": "#/definitions/Spazio" }
                        }
                    },
                    "204": {
                        "description": "No content - Nessuno spazio da restituire",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 204
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Nessuno spazio da restituire"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I valori di start e count non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/spazio/byID": {
            "get": {
                "tags": ["spazio"],
                "summary": "Ottenere uno spazio tramite il suo ID",
                "description": "",
                "operationId": "getSpazioConID",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID dello spazio da restituire",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": { "$ref": "#/definitions/Spazio" }
                    },
                    "404": {
                        "description": "Not found - Uno spazio con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/spazio/disponibilita": {
            "get": {
                "tags": ["spazio"],
                "summary": "Specificando una data di inizio e di fine, viene restituita la disponibilità (true o false) dello spazio richiesto nel periodo specificato",
                "description": "",
                "operationId": "getDisponibilitaSpazio",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID dello spazio da restituire",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "inizio",
                        "in": "query",
                        "description": "Data di inizio del periodo in formato date-time",
                        "type": "string",
                        "format": "date-time",
                        "required": true
                    },
                    {
                        "name": "fine",
                        "in": "query",
                        "description": "Data di fine del periodo in formato date-time",
                        "type": "string",
                        "format": "date-time",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 200
                                },
                                "disponibilita": {
                                    "type": "boolean",
                                    "description": "Disponibilità dello spazio nel periodo richiesto",
                                    "example": true
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Lo spazio <ID spazio> è diponibile nel periodo tra <Data inizio> e <Data fine>"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati o non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Uno spazio con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/spazio/{id}": {
            "patch": {
                "tags": ["spazio"],
                "summary": "Modifica di uno spazio",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "modificaSpazio",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID dello spazio da modificare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "nome",
                        "in": "formData",
                        "description": "Nome dello spazio",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "descrizione",
                        "in": "formData",
                        "description": "Breve descrizione dello spazio",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "tipologia",
                        "in": "formData",
                        "description": "Tipo di spazio",
                        "type": "string",
                        "enum": ["Locale interno", "Locale attrezzato", "Spazio esterno"],
                        "required": true
                    },
                    {
                        "name": "prezzoIniziale",
                        "in": "formData",
                        "description": "Prezzo dello spazio quando viene utilizzato",
                        "type": "number",
                        "format": "float",
                        "required": true
                    },
                    {
                        "name": "prezzoOra",
                        "in": "formData",
                        "description": "Prezzo dello spazio per ogni ora di utilizzo",
                        "type": "number",
                        "format": "float",
                        "required": true
                    },
                    {
                        "name": "URLfoto",
                        "in": "formData",
                        "description": "Percorso della foto dello spazio",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "servizi",
                        "in": "formData",
                        "description": "Lista di ID dei servizi che possono essere utilizzati in questo spazio",
                        "type": "array",
                        "items": { "type": "string" },
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Modifica spazio effettuata correttamente",
                        "schema": { "$ref": "#/definitions/Spazio" }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Uno spazio con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            },
            "delete": {
                "tags": ["spazio"],
                "summary": "Eliminazione di uno spazio",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "eliminaSpazio",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID dello spazio da eliminare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Eliminazione dello spazio effettuata correttamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 200
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Spazio eliminato correttamente"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Uno spazio con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/servizio": {
            "post": {
                "tags": ["servizio"],
                "summary": "Creazione di un nuovo servizio",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "nuovoServizio",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "nome",
                        "in": "formData",
                        "description": "Nome del nuovo servizio",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "descrizione",
                        "in": "formData",
                        "description": "Breve descrizione del nuovo servizio",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "tipologia",
                        "in": "formData",
                        "description": "Tipo di servizio",
                        "type": "string",
                        "enum": ["Arredamento", "Attrezzatura specifica", "Altro"],
                        "required": true
                    },
                    {
                        "name": "prezzoIniziale",
                        "in": "formData",
                        "description": "Prezzo del servizio quando viene utilizzato",
                        "type": "number",
                        "format": "float",
                        "required": true
                    },
                    {
                        "name": "prezzoOra",
                        "in": "formData",
                        "description": "Prezzo del servizio per ogni ora di utilizzo",
                        "type": "number",
                        "format": "float",
                        "required": true
                    },
                    {
                        "name": "URLfoto",
                        "in": "formData",
                        "description": "Percorso della foto del nuovo servizio",
                        "type": "string",
                        "required": false
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created - Creazione servizio effettuata correttamente",
                        "schema": { "$ref": "#/definitions/Servizio" }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            },
            "get": {
                "tags": ["servizio"],
                "summary": "Ottenere la lista dei servizi presenti nel sistema",
                "description": "",
                "operationId": "listaServizi",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "start",
                        "in": "query",
                        "description": "Indice del primo oggetto da restituire",
                        "type": "integer",
                        "required": false
                    },
                    {
                        "name": "count",
                        "in": "query",
                        "description": "Numero di oggetti da restituire",
                        "type": "integer",
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": { "$ref": "#/definitions/Servizio" }
                        }
                    },
                    "204": {
                        "description": "No content - Nessun servizio da restituire",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 204
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Nessun servizio da restituire"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I valori di start e count non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/servizio/byID": {
            "get": {
                "tags": ["servizio"],
                "summary": "Ottenere un servizio tramite il suo ID",
                "description": "",
                "operationId": "getServizioConID",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID del servizio da restituire",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": { "$ref": "#/definitions/Servizio" }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un servizio con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/servizio/disponibilita": {
            "get": {
                "tags": ["servizio"],
                "summary": "Specificando una data di inizio e di fine, viene restituita la disponibilità (true o false) del servizio richiesto nel periodo specificato",
                "description": "",
                "operationId": "getDisponibilitaServizio",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID del servizio da restituire",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "inizio",
                        "in": "query",
                        "description": "Data di inizio del periodo in formato date-time",
                        "type": "string",
                        "format": "date-time",
                        "required": true
                    },
                    {
                        "name": "fine",
                        "in": "query",
                        "description": "Data di fine del periodo in formato date-time",
                        "type": "string",
                        "format": "date-time",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 200
                                },
                                "disponibilita": {
                                    "type": "boolean",
                                    "description": "Disponibilità del servizio nel periodo richiesto",
                                    "example": true
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Il servizio <ID servizio> è diponibile nel periodo tra <Data inizio> e <Data fine>"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati o non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un servizio con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/servizio/{id}": {
            "patch": {
                "tags": ["servizio"],
                "summary": "Modifica di un servizio",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "modificaServizio",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del servizio da modificare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "nome",
                        "in": "formData",
                        "description": "Nome del servizio",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "descrizione",
                        "in": "formData",
                        "description": "Breve descrizione del servizio",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "tipologia",
                        "in": "formData",
                        "description": "Tipo di servizio",
                        "type": "string",
                        "enum": ["Arredamento", "Attrezzatura specifica", "Altro"],
                        "required": true
                    },
                    {
                        "name": "prezzoIniziale",
                        "in": "formData",
                        "description": "Prezzo del servizio quando viene utilizzato",
                        "type": "number",
                        "format": "float",
                        "required": true
                    },
                    {
                        "name": "prezzoOra",
                        "in": "formData",
                        "description": "Prezzo del servizio per ogni ora di utilizzo",
                        "type": "number",
                        "format": "float",
                        "required": true
                    },
                    {
                        "name": "URLfoto",
                        "in": "formData",
                        "description": "Percorso della foto del servizio",
                        "type": "string",
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Modifica servizio effettuata correttamente",
                        "schema": { "$ref": "#/definitions/Servizio" }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un servizio con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            },
            "delete": {
                "tags": ["servizio"],
                "summary": "Eliminazione di un servizio",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "eliminaServizio",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del servizio da eliminare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Eliminazione del servizio effettuata correttamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 200
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Servizio eliminato correttamente"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un servizio con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/prenotazione": {
            "post": {
                "tags": ["prenotazione"],
                "summary": "Creazione di una nuova prenotazione",
                "description": "NON utilizzabile per test a causa di un bug di SwaggerUI",
                "operationId": "nuovaPrenotazione",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "proprietario",
                        "in": "formData",
                        "description": "ID dell'utente che effettua la prenotazione",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "eventoCollegato",
                        "in": "formData",
                        "description": "ID dell'evento collegato alla prenotazione",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "ricorrenze",
                        "in": "formData",
                        "description": "Lista di ricorrenze legate a questa prenotazione",
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "inizio": {
                                    "type": "string",
                                    "format": "date-time",
                                    "description": "Data e ora di inizio della ricorrenza"
                                },
                                "fine": {
                                    "type": "string",
                                    "format": "date-time",
                                    "description": "Data e ora di fine della ricorrenza"
                                },
                                "spaziPrenotati": {
                                    "type": "array",
                                    "items": { "type": "string" },
                                    "description": "Lista di ID degli spazi utilizzati in questa ricorrenza"
                                },
                                "serviziPrenotati": {
                                    "type": "array",
                                    "items": { "type": "string" },
                                    "description": "Lista di ID dei servizi utilizzati in questa ricorrenza"
                                }
                            }
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created - Prenotazione effettuata correttamente",
                        "schema": { "$ref": "#/definitions/Prenotazione" }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            },
            "get": {
                "tags": ["prenotazione"],
                "summary": "Ottenere la lista delle prenotazioni presenti nel sistema",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "listaPrenotazioni",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "start",
                        "in": "query",
                        "description": "Indice del primo oggetto da restituire",
                        "type": "integer",
                        "required": false
                    },
                    {
                        "name": "count",
                        "in": "query",
                        "description": "Numero di oggetti da restituire",
                        "type": "integer",
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": { "$ref": "#/definitions/Prenotazione" }
                        }
                    },
                    "204": {
                        "description": "No content - Nessuna prenotazione da restituire",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 204
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Nessuna prenotazione da restituire"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I valori di start e count non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/prenotazione/byUtente": {
            "get": {
                "tags": ["prenotazione"],
                "summary": "Ottenere la lista delle prenotazioni di un dato utente",
                "description": "",
                "operationId": "listaPrenotazioniPerUtente",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": { "$ref": "#/definitions/Prenotazione" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Un utente con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/prenotazione/byID": {
            "get": {
                "tags": ["prenotazione"],
                "summary": "Ottenere una prenotazione tramite il suo ID",
                "description": "",
                "operationId": "getPrenotazioneConID",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID della prenotazione da restituire",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": { "$ref": "#/definitions/Prenotazione" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Una prenotazione con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/prenotazione/ricorrenze": {
            "get": {
                "tags": ["prenotazione"],
                "summary": "Ottenere la lista delle ricorrenze legate a una prenotazione",
                "description": "",
                "operationId": "getRicorrenzePrenotazione",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID della prenotazione",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": { "$ref": "#/definitions/Ricorrenza" }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Una prenotazione con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/prenotazione/{id}": {
            "patch": {
                "tags": ["prenotazione"],
                "summary": "Modifica di una prenotazione",
                "description": "",
                "operationId": "modificaPrenotazione",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID della prenotazione da modificare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "proprietario",
                        "in": "formData",
                        "description": "ID dell'utente che effettua la prenotazione",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "statusPagamento",
                        "in": "formData",
                        "description": "Stato del pagamento: 0 -> da pagare, 1 -> pagato online, 2 -> pagato in contanti",
                        "type": "integer",
                        "required": true
                    },
                    {
                        "name": "importoPagamento",
                        "in": "formData",
                        "description": "Totale da pagare",
                        "type": "number",
                        "format": "float",
                        "required": false
                    },
                    {
                        "name": "eventoCollegato",
                        "in": "formData",
                        "description": "ID dell'evento collegato alla prenotazione",
                        "type": "string",
                        "required": false
                    },
                    {
                        "name": "ricorrenze",
                        "in": "formData",
                        "description": "Lista di ID di ricorrenze legate a questa prenotazione",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Prenotazione modificata correttamente",
                        "schema": { "$ref": "#/definitions/Prenotazione" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Una prenotazione con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            },
            "delete": {
                "tags": ["prenotazione"],
                "summary": "Eliminazione di una prenotazione e delle sue ricorrenze",
                "description": "",
                "operationId": "eliminaPrenotazione",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID della prenotazione da eliminare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Eliminazione della prenotazione effettuata correttamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 200
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Prenotazione eliminata correttamente"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Una prenotazione con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/ricorrenza": {
            "get": {
                "tags": ["ricorrenza"],
                "summary": "Ottenere la lista delle ricorrenze presenti nel sistema",
                "description": "NB: questa API è riservata agli utenti di segreteria. Per provarla, fare il login con l'utente: \"segreteria@oratorio.com\" e password: \"password\"",
                "operationId": "listaRicorrenze",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "start",
                        "in": "query",
                        "description": "Indice del primo oggetto da restituire",
                        "type": "integer",
                        "required": false
                    },
                    {
                        "name": "count",
                        "in": "query",
                        "description": "Numero di oggetti da restituire",
                        "type": "integer",
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": { "$ref": "#/definitions/Ricorrenza" }
                        }
                    },
                    "204": {
                        "description": "No content - Nessuna ricorrenza da restituire",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 204
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Nessuna ricorrenza da restituire"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - I valori di start e count non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/ricorrenza/byID": {
            "get": {
                "tags": ["ricorrenza"],
                "summary": "Ottenere una ricorrenza tramite il suo ID",
                "description": "",
                "operationId": "getRicorrenzaConID",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "ID della ricorrenza da restituire",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": { "$ref": "#/definitions/Ricorrenza" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Una ricorrenza con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/ricorrenza/byPeriodo": {
            "get": {
                "tags": ["ricorrenza"],
                "summary": "Specificando una data di inizio e di fine, viene restituita la lista di ricorrenze comprese nel periodo specificato",
                "description": "",
                "operationId": "getRicorrenzePerPeriodo",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "inizio",
                        "in": "query",
                        "description": "Data di inizio del periodo",
                        "type": "string",
                        "format": "date-time",
                        "required": true
                    },
                    {
                        "name": "fine",
                        "in": "query",
                        "description": "Data di fine del periodo",
                        "type": "string",
                        "format": "date-time",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": { "$ref": "#/definitions/Ricorrenza" }
                        }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati o non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        },
        "/ricorrenza/{id}": {
            "patch": {
                "tags": ["ricorrenza"],
                "summary": "Modifica di una ricorrenza",
                "description": "",
                "operationId": "modificaRicorrenza",
                "consumes": ["multipart/form-data"],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID della ricorrenza da modificare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "inizio",
                        "in": "formData",
                        "description": "Data e ora di inizio della ricorrenza",
                        "type": "string",
                        "format": "date-time",
                        "required": true
                    },
                    {
                        "name": "fine",
                        "in": "formData",
                        "description": "Data e ora di fine della ricorrenza",
                        "type": "string",
                        "format": "date-time",
                        "required": true
                    },
                    {
                        "name": "spaziPrenotati",
                        "in": "formData",
                        "description": "Lista di ID degli spazi utilizzati in questa ricorrenza",
                        "type": "array",
                        "items": { "type": "string" },
                        "required": true
                    },
                    {
                        "name": "serviziPrenotati",
                        "in": "formData",
                        "description": "Lista di ID dei servizi utilizzati in questa ricorrenza",
                        "type": "array",
                        "items": { "type": "string" },
                        "required": false
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Ricorrenza modificata correttamente",
                        "schema": { "$ref": "#/definitions/Ricorrenza" }
                    },
                    "400": {
                        "description": "Bad request - I parametri richiesti non sono specificati o non sono coerenti",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Una ricorrenza con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            },
            "delete": {
                "tags": ["ricorrenza"],
                "summary": "Eliminazione di una ricorrenza",
                "description": "",
                "operationId": "eliminaRicorrenza",
                "consumes": [],
                "produces": ["application/json"],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID della ricorrenza da eliminare",
                        "type": "string",
                        "required": true
                    },
                    {
                        "name": "x-access-token",
                        "in": "header",
                        "description": "Token di accesso dell'utente",
                        "type": "string",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Eliminazione della ricorrenza effettuata correttamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "code": {
                                    "type": "integer",
                                    "description": "Codice di risposta HTTP",
                                    "example": 200
                                },
                                "message": {
                                    "type": "string",
                                    "description": "Messaggio con esito dell'operazione",
                                    "example": "Ricorrenza eliminata correttamente"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Per svolgere l'operazione è necessario il login",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "403": {
                        "description": "Forbidden - Il livello di privilegio non è sufficiente",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "404": {
                        "description": "Not found - Una ricorrenza con l'ID fornito non esiste",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    },
                    "500": {
                        "description": "Internal server error - Errore imprevisto durante l'operazione",
                        "schema": { "$ref": "#/definitions/ErroreAPI" }
                    }
                }
            }
        }
    },
    "definitions": {
        "Utente": {
            "type": "object",
            "required": ["_id", "nome", "cognome", "email", "confermaAccount", "livello"],
            "properties": {
                "_id": {
                    "type": "string",
                    "description": "Identificativo univoco dell'utente"
                },
                "nome": {
                    "type": "string",
                    "description": "Nome dell'utente",
                    "example": "Mario"
                },
                "cognome": {
                    "type": "string",
                    "description": "Cognome dell'utente",
                    "example": "Rossi"
                },
                "email": {
                    "type": "string",
                    "description": "Email utilizzata per la creazione dell'account",
                    "example": "mario.rossi@mail.com"
                },
                "password": {
                    "type": "string",
                    "description": "Password dell'utente",
                    "example": "<password>"
                },
                "telefono": {
                    "type": "string",
                    "description": "Contatto telefonico dell'utente",
                    "example": "1234567890"
                },
                "indirizzo": {
                    "type": "string",
                    "description": "Indirizzo dell'utente, per l'invio di eventuali comunicazioni scritte",
                    "example": "via Roma 34, 20122 Milano"
                },
                "URLfoto": {
                    "type": "string",
                    "description": "Percorso della foto profilo dell'utente",
                    "example": "/images/utenti/default.png"
                },
                "confermaAccount": {
                    "type": "boolean",
                    "description": "Status dell'account dell'utente, se false allora l'utente deve ancora confermare la registrazione",
                    "example": true
                },
                "livello": {
                    "type": "integer",
                    "description": "Livello di privilegio dell'utente: 0 -> non registrato, 1 -> utente standard, 2 -> utente di segreteria",
                    "example": 1
                }
            }
        },
        "Spazio": {
            "type": "object",
            "required": ["_id", "nome", "tipologia", "prezzoIniziale", "prezzoOra"],
            "properties": {
                "_id": {
                    "type": "string",
                    "description": "Identificativo univoco dello spazio"
                },
                "nome": {
                    "type": "string",
                    "description": "Nome dello spazio",
                    "example": "Sala polifunzionale"
                },
                "descrizione": {
                    "type": "string",
                    "description": "Breve descrizione dello spazio",
                    "example": "Aula molto grande (100 posti) per spettacoli, conferenze, ..."
                },
                "tipologia": {
                    "type": "string",
                    "description": "Tipo di spazio",
                    "enum": ["Locale interno", "Locale attrezzato", "Spazio esterno"],
                    "example": "Locale interno"
                },
                "prezzoIniziale": {
                    "type": "number",
                    "format": "float",
                    "description": "Prezzo dello spazio quando viene utilizzato",
                    "example": 10.5
                },
                "prezzoOra": {
                    "type": "number",
                    "format": "float",
                    "description": "Prezzo dello spazio per ogni ora di utilizzo",
                    "example": 4.25
                },
                "URLfoto": {
                    "type": "string",
                    "description": "Percorso della foto dello spazio",
                    "example": "/images/spazi/default.png"
                },
                "servizi": {
                    "type": "array",
                    "description": "Lista dei servizi che possono essere utilizzati in questo spazio",
                    "items": { "$ref": "#/definitions/Servizio" },
                    "required": false
                }
            }
        },
        "Servizio": {
            "type": "object",
            "required": ["_id", "nome", "tipologia", "prezzoIniziale", "prezzoOra"],
            "properties": {
                "_id": {
                    "type": "string",
                    "description": "Identificativo univoco del servizio"
                },
                "nome": {
                    "type": "string",
                    "description": "Nome del servizio",
                    "example": "Proiettore"
                },
                "descrizione": {
                    "type": "string",
                    "description": "Breve descrizione del servizio",
                    "example": "Proiettore 720p con interfaccia HDMI e VGA"
                },
                "tipologia": {
                    "type": "string",
                    "description": "Tipo di servizio",
                    "enum": ["Arredamento", "Attrezzatura specifica", "Altro"],
                    "example": "Attrezzatura specifica"
                },
                "prezzoIniziale": {
                    "type": "number",
                    "format": "float",
                    "description": "Prezzo del servizio quando viene utilizzato",
                    "example": 2.5
                },
                "prezzoOra": {
                    "type": "number",
                    "format": "float",
                    "description": "Prezzo del servizio per ogni ora di utilizzo",
                    "example": 1.0
                },
                "URLfoto": {
                    "type": "string",
                    "description": "Percorso della foto del servizio",
                    "example": "/images/servizi/default.png"
                }
            }
        },
        "Prenotazione": {
            "type": "object",
            "required": [
                "_id",
                "proprietario",
                "statusPagamento",
                "importoPagamento",
                "ricorrenze"
            ],
            "properties": {
                "_id": {
                    "type": "string",
                    "description": "Identificativo univoco della prenotazione"
                },
                "proprietario": {
                    "type": "string",
                    "description": "ID dell'utente che effettua la prenotazione"
                },
                "statusPagamento": {
                    "type": "integer",
                    "description": "Stato del pagamento: 0 -> da pagare, 1 -> pagato online, 2 -> pagato in contanti",
                    "example": 1
                },
                "importoPagamento": {
                    "type": "number",
                    "format": "float",
                    "description": "Totale da pagare",
                    "example": 30.75
                },
                "eventoCollegato": {
                    "type": "string",
                    "description": "ID dell'evento collegato alla prenotazione"
                },
                "ricorrenze": {
                    "type": "array",
                    "items": { "$ref": "#/definitions/Ricorrenza" },
                    "description": "Lista di ricorrenze legate a questa prenotazione"
                }
            }
        },
        "Ricorrenza": {
            "type": "object",
            "required": ["_id", "inizio", "fine", "spaziPrenotati"],
            "properties": {
                "_id": {
                    "type": "string",
                    "description": "Identificativo univoco della ricorrenza"
                },
                "inizio": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data e ora di inizio della ricorrenza",
                    "example": "2023-01-10T16:30:00.000Z"
                },
                "fine": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data e ora di fine della ricorrenza",
                    "example": "2023-01-10T18:30:00.000Z"
                },
                "spaziPrenotati": {
                    "type": "array",
                    "items": { "$ref": "#/definitions/Spazio" },
                    "description": "Lista degli spazi utilizzati in questa ricorrenza"
                },
                "serviziPrenotati": {
                    "type": "array",
                    "items": { "$ref": "#/definitions/Servizio" },
                    "description": "Lista dei servizi utilizzati in questa ricorrenza"
                }
            }
        },
        "ErroreAPI": {
            "type": "object",
            "required": ["code", "message"],
            "properties": {
                "code": {
                    "type": "integer",
                    "description": "Codice di risposta HTTP"
                },
                "message": {
                    "type": "string",
                    "description": "Messaggio di testo sull'errore"
                }
            }
        }
    }
}
